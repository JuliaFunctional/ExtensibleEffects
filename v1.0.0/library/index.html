<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · ExtensibleEffects.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://JuliaFunctional.github.io/ExtensibleEffects.jl/library/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ExtensibleEffects.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../manual/">Manual</a></li><li class="is-active"><a class="tocitem" href>Library</a><ul class="internal"><li><a class="tocitem" href="#Usage-and-Syntax"><span>Usage and Syntax</span></a></li><li><a class="tocitem" href="#Interface"><span>Interface</span></a></li><li><a class="tocitem" href="#Effect-Handlers"><span>Effect Handlers</span></a></li><li><a class="tocitem" href="#Internals"><span>Internals</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Library</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Library</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/master/docs/src/library.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ExtensibleEffects-Public-API"><a class="docs-heading-anchor" href="#ExtensibleEffects-Public-API">ExtensibleEffects Public API</a><a id="ExtensibleEffects-Public-API-1"></a><a class="docs-heading-anchor-permalink" href="#ExtensibleEffects-Public-API" title="Permalink"></a></h1><h2 id="Usage-and-Syntax"><a class="docs-heading-anchor" href="#Usage-and-Syntax">Usage and Syntax</a><a id="Usage-and-Syntax-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-and-Syntax" title="Permalink"></a></h2><p>Autorun</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.@syntax_eff" href="#ExtensibleEffects.@syntax_eff"><code>ExtensibleEffects.@syntax_eff</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@syntax_eff begin
  a = [1,2,3]
  b = [a, a*a]
  @pure a, b
end</code></pre><p>Extensible Effects syntax. It applies <code>effect</code> to all values which are not prefaced with <code>@pure</code>, which lifts them into the <code>Eff</code> monad.  The results are combined using <code>@syntax_flatmap</code> on the respective <code>Eff</code> monad, which finally is executed using <code>autorun</code> algorithm.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">autohandled_eff = @syntax_eff begin
  a = [1,2,3]
  b = [a, a*a]
  @pure a, b
end

mycustomwrapper(i::Int) = collect(1:i)
# monadic-like syntax to first apply a wrapper before interpreting code to unhandled effects
autohandled_eff = @syntax_eff mycustomwrapper begin
  a = [1,2,3]
  b = [a, a*a]
  @pure a, b
end</code></pre><p><strong>The Interface</strong></p><p>If you want to add support for new types, you need to provide the following interface: (Vector is only an example)</p><table><tr><th style="text-align: right">core function</th><th style="text-align: right">description</th></tr><tr><td style="text-align: right"><code>ExtensibleEffects.eff_applies(handler::Type{&lt;:Vector}, effectful::Vector) = true</code></td><td style="text-align: right">specify on which values the handler applies (the handler Vector applies to Vector of course)</td></tr><tr><td style="text-align: right"><code>ExtensibleEffects.eff_pure(handler::Type{&lt;:Vector}, value) = [value]</code></td><td style="text-align: right">wrap a plain value into the Monad of the handler, here Vector.</td></tr><tr><td style="text-align: right"><code>ExtensibleEffects.eff_flatmap(continuation, effectful::Vector)</code></td><td style="text-align: right">apply a continuation to the current effect (here again Vector as an example). The key difference to plain <code>TypeClasses.flatmap</code> is that <code>continuation</code> does not return a plain <code>Vector</code>, but a <code>Eff{Vector}</code>. Applying this <code>continuation</code> with a plain <code>map</code> would lead <code>Vector{Eff{Vector}}</code>. However, <code>eff_flatmap</code> needs to return an <code>Eff{Vector}</code> instead.</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/syntax.jl#L3-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.@syntax_eff_noautorun" href="#ExtensibleEffects.@syntax_eff_noautorun"><code>ExtensibleEffects.@syntax_eff_noautorun</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@syntax_eff_noautorun begin
  a = [1,2,3]
  b = [a, a*a]
  @pure a, b
end</code></pre><p>Extensible Effects syntax which does not run <code>autorun</code> routine. As <code>@syntax_eff</code>, it applies <code>effect</code> to all values which are not prefaced with <code>@pure</code>,  which lifts them into the <code>Eff</code> monad. The results are combined using <code>@syntax_flatmap</code> on the respective <code>Eff</code> monad, which then is directly returned.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">unhandled_eff = @syntax_eff_noautorun begin
  a = [1,2,3]
  b = [a, a*a]
  @pure a, b
end

mycustomwrapper(i::Int) = collect(1:i)
# monadic-like syntax to first apply a wrapper before interpreting code to unhandled effects
unhandled_eff = @syntax_eff_noautorun mycustomwrapper begin
  a = [1,2,3]
  b = [a, a*a]
  @pure a, b
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/syntax.jl#L52-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.noautorun" href="#ExtensibleEffects.noautorun"><code>ExtensibleEffects.noautorun</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">noautorun(handlers...)::Function</code></pre><p>Constructs a wrapper function which can be used within @syntax_eff to skip all given handler types within the autorun.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@syntax_eff noautorun(Vector, Identity) begin
  a = [1,2,3]
  b = Identity(a + 2)
end</code></pre><p>will actually run no handler at all in the implicit autorun, as both handlers are marked for ignore.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/autorun.jl#L8-L22">source</a></section></article><p>Explicit introduction of effects</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.effect" href="#ExtensibleEffects.effect"><code>ExtensibleEffects.effect</code></a> — <span class="docstring-category">Function</span></header><section><div><p>mark a value as an effect</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/core.jl#L53-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.noeffect" href="#ExtensibleEffects.noeffect"><code>ExtensibleEffects.noeffect</code></a> — <span class="docstring-category">Function</span></header><section><div><p>mark a value as no effect, but plain value</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/core.jl#L47-L49">source</a></section></article><p>Explicit use of handlers</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.runhandlers" href="#ExtensibleEffects.runhandlers"><code>ExtensibleEffects.runhandlers</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">runhandlers(handlers, eff)
runhandlers((Vector, Option), eff)::Vector{Option{...}}</code></pre><p>run all handlers such that the first handler will define the most outer container</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/effecthandler.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.@runhandlers" href="#ExtensibleEffects.@runhandlers"><code>ExtensibleEffects.@runhandlers</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@runhandlers handlers eff</code></pre><p>For convenience we provide <code>runhandlers</code> function also as a macro.</p><p>With this you can easier run left-over handlers from an <code>@syntax_eff</code> autorun.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">@runhandlers WithCall(args, kwargs) @syntax_eff begin
  a = Callable(x -&gt; 2x)
  @pure a
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/effecthandler.jl#L69-L84">source</a></section></article><h2 id="Interface"><a class="docs-heading-anchor" href="#Interface">Interface</a><a id="Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Interface" title="Permalink"></a></h2><p>Core Interface</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.eff_applies" href="#ExtensibleEffects.eff_applies"><code>ExtensibleEffects.eff_applies</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ExtensibleEffects.eff_applies(handler::YourHandlerType, value::ToBeHandledEffectType) = true</code></pre><p>Overwrite this function like above to indicate that a concrete effect is handled by a handler. In most cases you will have <code>YourHandlerType = Type{ToBeHandledEffectType}</code>, like for <code>Vector</code> or similar.</p><p>Sometimes you need extra information without which you cannot run a specific effect. Then you need to link the specific handler containing the required information. E.g. <code>Callable</code> needs <code>args</code> and <code>kwargs</code> to be run, which are captured in the handler type <code>CallableHandler(args, kwargs)</code>. Hence above you would choose YourHandlerType = <code>CallableHandler</code>, and ToBeHandledEffectType = <code>Callable</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/effecthandler.jl#L150-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.eff_pure" href="#ExtensibleEffects.eff_pure"><code>ExtensibleEffects.eff_pure</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ExtensibleEffects.eff_pure(handler, value)</code></pre><p>Overwrite this for your custom effect handler, return either <code>ExtensibleEffects.Eff</code> type, or a plain value. Plain values will be wrapped with <code>noeffect</code> automatically.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/effecthandler.jl#L138-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.eff_flatmap" href="#ExtensibleEffects.eff_flatmap"><code>ExtensibleEffects.eff_flatmap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ExtensibleEffects.eff_flatmap(handler, interpreted_continuation, value)
ExtensibleEffects.eff_flatmap(interpreted_continuation, value)</code></pre><p>Overwrite this for your custom effect handler to handle your effect. This function is only called if <code>eff_applies(handler, value)==true</code>.</p><p>While for custom effects it is handy to dispatch on the handler itself, in simple cases <code>handler == typeof(value)</code> and hence, we allow to ommit it.</p><p><strong>Parameters</strong></p><p>The arg <code>interpreted_continuation</code> is guaranteed to return an Eff of the handled type. E.g. if you might handle the type <code>Vector</code>, you are guaranteed that <code>interpreted_continuation(x)::ExtensibleEffects.Eff{Vector}</code></p><p><strong>Return</strong></p><p>If you do not return an <code>ExtensibleEffects.Eff</code>, the result will be wrapped into <code>noeffect</code> automatically, i.e. assuming the effect is handled afterwards.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/effecthandler.jl#L107-L126">source</a></section></article><p>Autorun optional extra</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.eff_autohandler" href="#ExtensibleEffects.eff_autohandler"><code>ExtensibleEffects.eff_autohandler</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">eff_autohandler(value) = Base.typename(typeof(value)).wrapper</code></pre><p>Overwrite this if the default autohandler extraction does not work for your case. E.g. for <code>value::Vector</code> the default would return <code>Array</code>, hence we need to overwrite it individually.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/autorun.jl#L69-L74">source</a></section></article><p>helper for developing composable effect-handler-macros</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.@insert_into_runhandlers" href="#ExtensibleEffects.@insert_into_runhandlers"><code>ExtensibleEffects.@insert_into_runhandlers</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@insert_into_runhandlers outer_handler @syntax_eff begin
  # ...
end</code></pre><p>Next to simple Effects which can be directly composed down to plain values and reconstructed again from plain values, there are also a couple of more elaborate Effects, which values cannot be extracted without providing further context.</p><p>Callables are a good example. It is impossible to extract the values of a callable without calling it, or without constructing another Callable around it.</p><p>With all these example the typical flow would be like</p><pre><code class="language-julia hljs">
Callable(function (args...; kwargs...)
  callablehandler = CallableHandler(args...; kwargs...)

  SomeOtherNeededContext() do info
    otherhandler = SomeOtherHandler(info)

    # ... possibly further nestings

    @runhandlers (callablehandler, otherhandler #= possible further handlers =#) @syntax_eff begin
      # ...
    end
  end
end)</code></pre><p><code>@inser_into_runhandlers</code> can be used to simplify and even separate these outer handlers from one another, so that they can be used as composable interchangeable macros.</p><p>For example, here the implementation of <code>@runcallable</code> (ignoring macro hygiene)</p><pre><code class="language-julia hljs">macro runcallable(expr)
  :(Callable(function(args...; kwargs...)
    @insert_into_runhandlers(CallableHandler(args...; kwargs...), $expr)
  end))
end</code></pre><p>This will search for an existing call to <code>runhandlers</code> within the given <code>expr</code>, and if found, inserts the CallableHandler similar to the motivating example above. If no <code>runhandlers</code> is found, it will create a new one.</p><p>This way, you can compose the nested code-structures very easily. You only have to be careful, that you always run all outer effects at once, in one single statement, so that <code>@insert_into_runhandlers</code> can actually find the right <code>runhandlers</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/outereffecthandler.jl#L3-L49">source</a></section></article><h2 id="Effect-Handlers"><a class="docs-heading-anchor" href="#Effect-Handlers">Effect Handlers</a><a id="Effect-Handlers-1"></a><a class="docs-heading-anchor-permalink" href="#Effect-Handlers" title="Permalink"></a></h2><p>Writer</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.WriterHandler" href="#ExtensibleEffects.WriterHandler"><code>ExtensibleEffects.WriterHandler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">WriteHandler(pure_accumulator=Option())</code></pre><p>Handler for generic Writers. The default accumulator works with Option values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/instances.jl#L94-L98">source</a></section></article><p>Callable</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.CallableHandler" href="#ExtensibleEffects.CallableHandler"><code>ExtensibleEffects.CallableHandler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CallableHandler(args...; kwargs...)</code></pre><p>Handler for functions, providing the arguments and keyword arguments for calling the functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/instances.jl#L258-L262">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.@runcallable" href="#ExtensibleEffects.@runcallable"><code>ExtensibleEffects.@runcallable</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@runcallable(eff)</code></pre><p>translates to</p><pre><code class="nohighlight hljs">Callable(function(args...; kwargs...)
  @insert_into_runhandlers CallableHandler(args...; kwargs...) eff
end)</code></pre><p>Thanks to <code>@insert_into_runhandlers</code> this outer runner can compose well with other outer runners.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/instances.jl#L276-L286">source</a></section></article><p>State</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.StateHandler" href="#ExtensibleEffects.StateHandler"><code>ExtensibleEffects.StateHandler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StateHandler(state)</code></pre><p>Handler for running State. Gives the initial state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/instances.jl#L297-L301">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.@runstate" href="#ExtensibleEffects.@runstate"><code>ExtensibleEffects.@runstate</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@runstate eff</code></pre><p>Note that unlike Callable, a State has to ensure that it is always the first outer Eff being run, as it returns the inner state as an additional argument.</p><p>If you would nest it with runcallable, e.g. like <code>@runstate @runcallable eff</code> it wouldn&#39;t work, as now the appended state is within the Callable and not directly within the State.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/instances.jl#L329-L337">source</a></section></article><p>ContextManager</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.ContextManagerHandler" href="#ExtensibleEffects.ContextManagerHandler"><code>ExtensibleEffects.ContextManagerHandler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ContextManagerHandler(continuation)</code></pre><p>Handler for <code>DataTypesBasic.ContextManager</code>.</p><p>The naive handler implementation for contextmanager would immediately run the continuation within the contextmanager. However this does not work, as handling one effect does not mean that all &quot;inner&quot; effects are already handled. Hence, such a handler would actually initialize and finalize the contextmanager, without its value being processed already. When the other &quot;inner&quot; effects are run later on, they would find an already destroyed contextmanager session. We need to make sure, that the contextmanager is really the last Effect run. Therefore we create a custom handler.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/instances.jl#L111-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.@runcontextmanager" href="#ExtensibleEffects.@runcontextmanager"><code>ExtensibleEffects.@runcontextmanager</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@runcontextmanager(eff)</code></pre><p>translates to</p><pre><code class="nohighlight hljs">ContextManager(function(cont)
  @insert_into_runhandlers ContextManagerHandler(cont) eff
end)</code></pre><p>Thanks to <code>@insert_into_runhandlers</code> this outer runner can compose well with other outer runners.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/instances.jl#L137-L147">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.@runcontextmanager_" href="#ExtensibleEffects.@runcontextmanager_"><code>ExtensibleEffects.@runcontextmanager_</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@runcontextmanager_(eff)</code></pre><p>like <code>@runcontextmanager(eff)</code>, but immediately runs the final ContextManager</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/instances.jl#L154-L158">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.ContextManagerCombinedHandler" href="#ExtensibleEffects.ContextManagerCombinedHandler"><code>ExtensibleEffects.ContextManagerCombinedHandler</code></a> — <span class="docstring-category">Type</span></header><section><div><p>ContextManagerCombinedHandler(otherhandler)</p><p>We can combine ContextManager with any other Handler. This is possible because ContextManager, within eff_flatmap, does not constrain the returned eff of the continuation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/instances.jl#L221-L226">source</a></section></article><h2 id="Internals"><a class="docs-heading-anchor" href="#Internals">Internals</a><a id="Internals-1"></a><a class="docs-heading-anchor-permalink" href="#Internals" title="Permalink"></a></h2><p>Core DataTypes</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.Eff" href="#ExtensibleEffects.Eff"><code>ExtensibleEffects.Eff</code></a> — <span class="docstring-category">Type</span></header><section><div><p>central data structure which can capture Effects in a way that they can interact, while each is handled independently on its own</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/core.jl#L18-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.Continuation" href="#ExtensibleEffects.Continuation"><code>ExtensibleEffects.Continuation</code></a> — <span class="docstring-category">Type</span></header><section><div><p>only for internal purposes, captures the still unevaluated part of an Eff</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/core.jl#L10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.NoEffect" href="#ExtensibleEffects.NoEffect"><code>ExtensibleEffects.NoEffect</code></a> — <span class="docstring-category">Type</span></header><section><div><p>special Wrapper, which is completely peeled of again</p><p>Comparing to Identity, Identity{T} results in Identity{T}, while NoEffect{T} results in plain T.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/core.jl#L1-L5">source</a></section></article><p>autorun</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.autorun" href="#ExtensibleEffects.autorun"><code>ExtensibleEffects.autorun</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">autorun(eff)</code></pre><p>special effectrunner which recognizes effecttypes used within <code>eff</code> and calls the effects in order, such that the first effect found will at the end be the most outer container, and the last different effect found will be the most inner container of the result value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/autorun.jl#L28-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.NoAutoRun" href="#ExtensibleEffects.NoAutoRun"><code>ExtensibleEffects.NoAutoRun</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Wrapper to indicate that a given handler should not be handled within <code>autorun</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/autorun.jl#L1-L3">source</a></section></article><p>other</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.runhandler" href="#ExtensibleEffects.runhandler"><code>ExtensibleEffects.runhandler</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">runhandler(handler, eff::Eff)
runhandler(handler, eff::Eff, context)</code></pre><p>key method to run an effect on some effecthandler Eff</p><p>note that we represent effectrunners as plain types in order to associate standard effect runners with types like Vector, Option, ...</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/effecthandler.jl#L43-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.runlast" href="#ExtensibleEffects.runlast"><code>ExtensibleEffects.runlast</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">runlast(eff::Eff)</code></pre><p>extract final value from Eff with all effects (but Identity) already run</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/effecthandler.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleEffects.runlast_ifpossible" href="#ExtensibleEffects.runlast_ifpossible"><code>ExtensibleEffects.runlast_ifpossible</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">runlast_ifpossible(eff::Eff)</code></pre><p>like <code>ExtensibleEffects.runlast</code>, however if the Eff is not yet completely handled, it just returns it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFunctional/ExtensibleEffects.jl/blob/35e4935bac7af1934db77690a8d848d75946c445/src/effecthandler.jl#L29-L33">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../manual/">« Manual</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.4 on <span class="colophon-date" title="Saturday 24 July 2021 17:11">Saturday 24 July 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
